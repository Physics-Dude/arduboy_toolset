<h1>Arduboy Toolset - Cart Editor</h1>

<p>
    This tool lets you modify FX flashcart <b>.bin</b> files directly. You can then reflash your Arduboy FX with
    the new flashcart. 
</p>

<p>
    What is a flashcart? The base model Arduboy from several years ago contained only 32KB of flash memory, intended
    to store one program. The community came up with a mod which would add a 16MB flash module, and wrote a special
    menu program that lets you browse games written into that bigger flash. The games are stitched together into a 
    special format, and that whole big file full of games is called a cart, which is stored on the mod's flash memory. 
    Newer Arduboys, called Arduboy FX, come with this mod preinstalled. This program understands this big flashcart 
    file, and can decompile + recompile it, allowing you to add or modify programs within it.
</p>

<h2>Using</h2>

<p>
    So to modify the cart on your Arduboy, you might:
</p>

<ul>
    <li>Open the flashcart off the Arduboy using the <b>File</b> menu in <u>Cart Editor</u>. It will take some time</li>
    <li>Use the <u>Cart Editor</u> to add or modify the games in the cart</li>
    <li>Flash the updated cart back to the Arduboy once again using the <b>File</b> menu.</li>
</ul>

<p>
    If any games use the FX save feature, you will need to do this "direct" modification every time. It first loads
    the FX flashcart data into memory, so <b>modifications are done locally</b> (and can be saved to your computer) before
    being written back to the Arduboy. Keep in mind that flashing older cart backups will <i>also</i> flash your older
    FX saves, so always work off the latest cart in your Arduboy if you want to preserve your FX saves.
</p>

<h2>Cart List</h2>

<p>
    When you load a flashcart into the UI, the cart items are displayed in a list. This is how it is stored in 
    the flashcart: each item in the cart is called a "Slot", and each Slot holds either a progrma or a category.
    A category encompasses all programs that follow it, up until the next category. Note that Arduboy expects 
    the first category to always be empty (this will be enforced whenever the cart is compiled).
</p>

<p>
    There are keyboard shortcuts to make navigating the cart easier. You can check out all the navigation options
    in the <b>Navigate</b> menu. You can also search for text within the cart, if you're looking for a specific 
    program or category.
</p>

<h3>Adding games + categories</h3>

<p>
    To add a game, use the <b>Cart</b> menu or the keyboard shortcut. The game will be inserted below the currently
    selected cart item, or at the bottom if none are selected. You can load a game from a .hex or a 
    .arduboy. If you use .arduboy, some of the fields are auto-filled (if they exist). If you do not provide
    a title image on write, one will be generated for you.
</p>

<p>
    To add a category, you can also use the <b>Cart</b> menu or the keyboard shortcut. Categories have no 
    associated program or FX data, and are simply the title screen and title/info fields. 
</p>

<p>
    <b>Your cart must always start with an empty category!</b>
</p>

<h3>Editing games + categories</h3>

<p>
    To change game data, simply edit the text fields or click the buttons or image on the left of the 
    game info. Images are automatically converted to the right format, though if it's not the right aspect 
    ratio, it is currently stretched to fit rather than cropped. The three small buttons under the image
    let you update the program, FX data, and FX save respectively. The numbers under the buttons indicate
    the size currently stored for each.
</p>

<p>
    There is a limit to how much text information you can put, at roughly 195 bytes total across all fields.
    If you go over this, your information is truncated.
</p>

<p>
    To move games around, simply drag + drop the items on screen. Note that you can move categories like this too, 
    but it will not move all games in the category along with it. This is because the list mimics how it is stored
    on flash: a category automatically encompasses all the games after it, until the next category. Moving entire
    categories may come in the future.
</p>

<p>
    To delete games, simply press the delete key while the game is selected, or use the <b>Cart</b> menu. 
    There is no undo, so be careful (though nothing is written to your arduboy until you flash it back). 
    If you delete a category, all games in that category remain in the same place, and so become children of the
    previous category.
</p>
